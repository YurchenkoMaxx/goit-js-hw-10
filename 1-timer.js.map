{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["// Описаний в документації\nimport flatpickr from \"flatpickr\";\n// Додатковий імпорт стилів\nimport \"flatpickr/dist/flatpickr.min.css\";\n// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst startBtn = document.querySelector('.input-btn');\nconst userInput = document.querySelector('#datetime-picker');\nconst daysEl = document.querySelector('[data-days]');\nconst hoursEl = document.querySelector('[data-hours]');\nconst minutesEl = document.querySelector('[data-minutes]');\nconst secondsEl = document.querySelector('[data-seconds]');\n\n\nlet userSelectedDate;\n\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n    onClose(selectedDates) {\n        userSelectedDate = selectedDates[0];\n        const currentDate = new Date();\n\n        console.log(currentDate);\n        console.log(userSelectedDate);\n\n        \n        if (userSelectedDate.getTime() <= currentDate.getTime()) {\n            startBtn.disabled = true;\n            iziToast.show({\n                title: 'Error',\n                message: 'Please choose a date in the future',\n                position: 'topRight',\n                backgroundColor: 'rgb(239, 64, 64)',\n                image: '../img/bi_x-octagon.svg',\n                imageWidth: 24,\n                titleColor: 'white',\n                messageColor: 'white',\n                            });\n        } else {\n            startBtn.disabled = false;\n\n        };\n  },\n};\n\n\nflatpickr(userInput, options);\n\nlet intervalID;\nstartBtn.addEventListener('click', () => {\n\n    startBtn.disabled = true;\n            userInput.disabled = true;\n    \nclearInterval(intervalID);\n    intervalID = setInterval(() => {\n        const currentDate = new Date();\n        const diff = userSelectedDate - currentDate;\n\n         const { days, hours, minutes, seconds } = convertMs(diff);\n    daysEl.textContent = days.toString().padStart(2, '0');\n    hoursEl.textContent= hours.toString().padStart(2, '0');\n    minutesEl.textContent= minutes.toString().padStart(2, '0');\n        secondsEl.textContent = seconds.toString().padStart(2, '0');\n        \n        if (diff < 1000) {\n            clearInterval(intervalID);\n            daysEl.textContent = \"00\";\n            hoursEl.textContent = \"00\";\n            minutesEl.textContent = \"00\";\n            secondsEl.textContent = \"00\";\n            startBtn.disabled = false;\n            userInput.disabled = false;\n            return;\n        }\n            }, 1000);\n\n});\n    \n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n};\n\n\n"],"names":["startBtn","userInput","daysEl","hoursEl","minutesEl","secondsEl","userSelectedDate","options","selectedDates","currentDate","iziToast","flatpickr","intervalID","diff","days","hours","minutes","seconds","convertMs","ms"],"mappings":"+IAUA,MAAMA,EAAW,SAAS,cAAc,YAAY,EAC9CC,EAAY,SAAS,cAAc,kBAAkB,EACrDC,EAAS,SAAS,cAAc,aAAa,EAC7CC,EAAU,SAAS,cAAc,cAAc,EAC/CC,EAAY,SAAS,cAAc,gBAAgB,EACnDC,EAAY,SAAS,cAAc,gBAAgB,EAGzD,IAAIC,EAGJ,MAAMC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACf,QAAQC,EAAe,CACnBF,EAAmBE,EAAc,CAAC,EAClC,MAAMC,EAAc,IAAI,KAExB,QAAQ,IAAIA,CAAW,EACvB,QAAQ,IAAIH,CAAgB,EAGxBA,EAAiB,QAAO,GAAMG,EAAY,QAAO,GACjDT,EAAS,SAAW,GACpBU,EAAS,KAAK,CACV,MAAO,QACP,QAAS,qCACT,SAAU,WACV,gBAAiB,mBACjB,MAAO,0BACP,WAAY,GACZ,WAAY,QACZ,aAAc,OAC9B,CAA6B,GAEjBV,EAAS,SAAW,EAG7B,CACH,EAGAW,EAAUV,EAAWM,CAAO,EAE5B,IAAIK,EACJZ,EAAS,iBAAiB,QAAS,IAAM,CAErCA,EAAS,SAAW,GACZC,EAAU,SAAW,GAEjC,cAAcW,CAAU,EACpBA,EAAa,YAAY,IAAM,CAE3B,MAAMC,EAAOP,EADO,IAAI,KAGjB,CAAE,KAAAQ,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYC,EAAUL,CAAI,EAMzD,GALJX,EAAO,YAAcY,EAAK,SAAU,EAAC,SAAS,EAAG,GAAG,EACpDX,EAAQ,YAAaY,EAAM,SAAU,EAAC,SAAS,EAAG,GAAG,EACrDX,EAAU,YAAaY,EAAQ,SAAU,EAAC,SAAS,EAAG,GAAG,EACrDX,EAAU,YAAcY,EAAQ,SAAU,EAAC,SAAS,EAAG,GAAG,EAEtDJ,EAAO,IAAM,CACb,cAAcD,CAAU,EACxBV,EAAO,YAAc,KACrBC,EAAQ,YAAc,KACtBC,EAAU,YAAc,KACxBC,EAAU,YAAc,KACxBL,EAAS,SAAW,GACpBC,EAAU,SAAW,GACrB,MACH,CACI,EAAE,GAAI,CAEnB,CAAC,EAGD,SAASiB,EAAUC,EAAI,CAQrB,MAAML,EAAO,KAAK,MAAMK,EAAK,KAAG,EAE1BJ,EAAQ,KAAK,MAAOI,EAAK,MAAO,IAAI,EAEpCH,EAAU,KAAK,MAAQG,EAAK,MAAO,KAAQ,GAAM,EAEjDF,EAAU,KAAK,MAASE,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAL,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC"}